# postgres.Dockerfile\nFROM timescale/timescaledb-ha:pg17\nUSER root\n\n# Instala locales y la extensión vector\nRUN apt-get update \\\n && apt-get install -y --no-install-recommends \\\n      locales \\\n      postgresql-17-pgvector \\\n && sed -i 's/# *\\(en_US.UTF-8 UTF-8\\)/\\1/' /etc/locale.gen \\\n && locale-gen en_US.UTF-8 \\\n && rm -rf /var/lib/apt/lists/*\n\n# Fuerza initdb con el locale correcto\nENV POSTGRES_INITDB_ARGS=\"--locale=en_US.UTF-8 --lc-collate=en_US.UTF-8 --lc-ctype=en_US.UTF-8\"\n\n# Vuelve a postgres y copia tus scripts de arranque\nUSER postgres\nCOPY init/ /docker-entrypoint-initdb.d/\n\n# Dar permisos de ejecución a los scripts\nUSER root\nRUN chmod +x /docker-entrypoint-initdb.d/*.sh\nUSER postgres